<!-- THIS FOOTER IS EXCLUSIVE ONLY FOR THE FOLLOWING USERS :  ADMIN & OTHER USERS-->
<!--====================FOOTER CONTENT====================-->
<footer>
	<div class="pull-right" id="y"><a href="https://colorlib.com"></a></div>
	<div class="clearfix"></div>
</footer>
<!--====================FOOTER CONTENT====================-->
<style type="text/css">
	footer {
		background: #001933;
		padding: 15px 20px;
		display: block;
		color: white;
		border-bottom: ridge 1px;
		border-left: ridge 1px;
	}
</style>
<!--====================JQUERIES====================-->
<!-- jquery Data table -->
<script src="<?php echo base_url();?>assets/import/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
<!-- Bootstrap -->
<script src="<?php echo base_url();?>assets/import/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
 <!-- BootstrapDialogue -->
 <script src="<?php echo base_url();?>assets/import/src/js/bootstrap-dialog.js"></script>
 <script src="<?php echo base_url();?>assets/import/assets/bootstrap-dialog/js/bootstrap-dialog.min.js"></script>
<!-- FastClick -->
<script src="<?php echo base_url();?>assets/import/vendors/fastclick/lib/fastclick.js"></script>
<!-- NProgress -->
<script src="<?php echo base_url();?>assets/import/vendors/nprogress/nprogress.js"></script>
<!-- gauge.js -->
<script src="<?php echo base_url();?>assets/import/vendors/gauge.js/dist/gauge.min.js"></script>
<!-- bootstrap-progressbar -->
<script src="<?php echo base_url();?>assets/import/vendors/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
<!-- iCheck -->
<script src="<?php echo base_url();?>assets/import/vendors/iCheck/icheck.min.js"></script>
<!-- Skycons -->
<script src="<?php echo base_url();?>assets/import/vendors/skycons/skycons.js"></script>
<!-- Flot -->
<script src="<?php echo base_url();?>assets/import/vendors/Flot/jquery.flot.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/Flot/jquery.flot.pie.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/Flot/jquery.flot.time.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/Flot/jquery.flot.stack.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/Flot/jquery.flot.resize.js"></script>
<!-- greetings -->
<script src="<?php echo base_url();?>assets/import/all_js_for_my_own_script/greetings.js"></script>
<!-- Compute field -->
<script src="<?php echo base_url();?>assets/import/all_js_for_my_own_script/comput_purchase.js"></script>
<!-- Flot plugins -->
<script src="<?php echo base_url();?>assets/import/vendors/flot.orderbars/js/jquery.flot.orderBars.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/flot-spline/js/jquery.flot.spline.min.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/flot.curvedlines/curvedLines.js"></script>
<!-- DateJS -->
<script src="<?php echo base_url();?>assets/import/vendors/DateJS/build/date.js"></script>
<!-- JQVMap -->
<script src="<?php echo base_url();?>assets/import/vendors/jqvmap/dist/jquery.vmap.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/jqvmap/dist/maps/jquery.vmap.world.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/jqvmap/examples/js/jquery.vmap.sampledata.js"></script>
<!-- bootstrap-daterangepicker -->
<script src="<?php echo base_url();?>assets/import/vendors/moment/min/moment.min.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/bootstrap-daterangepicker/daterangepicker.js"></script>
<!-- my own script -->
<script src="<?php echo base_url();?>assets/import/all_js_for_my_own_script/radiohead_purchase_type.js"></script>
<script src="<?php echo base_url();?>assets/import/all_js_for_my_own_script/bootstrap-datetimepicker.min.js"></script>
<script src="<?php echo base_url();?>assets/import/all_js_for_my_own_script/navtabs.js"></script>
<script src="<?php echo base_url();?>assets/import/all_js_for_my_own_script/photoviewer.js"></script>
<script src="<?php echo base_url();?>assets/import/all_js_for_my_own_script/mvTop.js"></script>
<!-- Datatables -->
<script src="<?php echo base_url();?>assets/import/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/datatables.net-buttons/js/buttons.flash.min.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/datatables.net-buttons/js/buttons.html5.min.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/datatables.net-buttons/js/buttons.print.min.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/datatables.net-scroller/js/dataTables.scroller.min.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/jszip/dist/jszip.min.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/pdfmake/build/pdfmake.min.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/pdfmake/build/vfs_fonts.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/dropify/js/dropify.js"></script>  
<!-- Dropzone.js -->
<script src="<?php echo base_url();?>assets/import/vendors/dropzone/dist/min/dropzone.min.js"></script>
<!-- Custom Theme Scripts -->
<script src="<?php echo base_url();?>assets/import/build/js/custom.min.js"></script>
<!-- Chart.js -->
<script src="<?php echo base_url();?>assets/import/vendors/Chart.js/dist/Chart.min.js"></script>
<script src="<?php echo base_url();?>assets/import/all_js_for_my_own_script/chartcanvasjs.min.js"></script>
<!-- chart home-->
<!-- <script src="<?php echo base_url();?>assets/import/assets/chartyear.js"></script> -->
<!-- maskmoney -->
<script src="<?php echo base_url();?>assets/import/customd-jquery-number-c19aa59/jquery.number.js"></script>
<script src="<?php echo base_url();?>assets/import/customd-jquery-number-c19aa59/jquery.number.min.js"></script>
<!-- PNotify -->
<script src="<?php echo base_url();?>assets/import/vendors/pnotify/dist/pnotify.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/pnotify/dist/pnotify.buttons.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/pnotify/dist/pnotify.nonblock.js"></script>
<!-- qtip -->
<script src="<?php echo base_url();?>assets/import/qtip/jquery.qtip.js"></script>
<script src="<?php echo base_url();?>assets/import/qtip/jquery.qtip.min.js"></script>
<!-- jquery ui cool.... -->
<script src="<?php echo base_url();?>assets/import/vendors/jquery-ui-1.12.1.custom/jquery-ui.js"></script>
<script src="<?php echo base_url();?>assets/import/vendors/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
<script src="<?php echo base_url();?>node_modules/flatpickr/dist/flatpickr.min.js"></script>
<!-- Sweet Alert -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<!-- Animated CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

<!--====================END JQUERIES====================-->

<style type="text/css">

.swal2-popup-custom {
	font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
	border-radius: 10px;
	box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
}

.swal2-title-custom {
	font-size: 1.5em;
	color: #333;
}

</style>

<?php if($this->session->flashdata('success')): ?>
<script>
	document.addEventListener("DOMContentLoaded", function() {
		Swal.fire({
			icon: 'success',
			title: 'Success!',
			html: '<strong><?= $this->session->flashdata('success'); ?></strong>',
			showConfirmButton: false,
			timer: 3000,
			background: '#f0f9f8',
			color: '#0f5132',
			width: '40em',
			padding: '2em',
			showClass: {
				popup: 'animate__animated animate__fadeInDown'
			},
			hideClass: {
				popup: 'animate__animated animate__fadeOutUp'
			},
			customClass: {
				popup: 'rounded-4 shadow-lg'
			}
		});
  	});
</script>
<?php endif; ?>

<?php if($this->session->flashdata('error')): ?>
<script>
	document.addEventListener("DOMContentLoaded", function() {
		Swal.fire({
			icon: 'error',
			title: 'Oops!',
			html: '<strong><?= $this->session->flashdata('error'); ?></strong>',
			confirmButtonText: 'Close',
			confirmButtonColor: '#e3342f',
			background: '#fff0f0',
			color: '#842029',
			width: '40em',
			padding: '2em',
			showClass: {
				popup: 'animate_animated animate_shakeX'
			},
			hideClass: {
				popup: 'animate__animated animate__fadeOutUp'
			},
			customClass: {
				popup: 'rounded-4 shadow-lg'
			}
		});
	});
</script>
<?php endif; ?>

<?php $this->session->unset_userdata('success'); ?>
<?php $this->session->unset_userdata('error'); ?>

<script>
	$(document).ready(function(){
		//SECRETARY ==================================================
		function initializeAcquisitionTable(tableId, status) {//ACQUISITION TABLE
		    $('#' + tableId).DataTable({
		        fixedHeader: false,
		        processing: true,
		        serverSide: true,
		        order: [],
		        ajax: {
		            url: "<?php echo base_url('Acquisition/acquisition_datatable/'); ?>",
		            type: "POST",
		            data: function(d) {
		                d.status = status;
		            }
		        },
		        columnDefs: [{
		            targets: [0],
		            orderable: true
		        }]
		    });
		}
		initializeAcquisitionTable('pending_acquisition_datatable', 'Pending');
		initializeAcquisitionTable('reviewed_acquisition_datatable', 'Reviewed');
		initializeAcquisitionTable('returned_acquisition_datatable', 'Returned');
		initializeAcquisitionTable('disapproved_acquisition_datatable', 'Disapproved');
		initializeAcquisitionTable('approved_acquisition_datatable', 'Approved');
		
		$('#inprogress_datatable').DataTable( {//INPROGRESS TABLE
			fixedHeader: false,
			"processing": true,
			"serverSide": true,
			"order": [],
			"ajax": {
				"url": "<?php echo base_url('Payment/inprogress_datatable/'); ?>",
				"type": "POST"
			},
			"columnDefs": [{ 
				"targets": [0],
				"orderable": true
			}]
		});
		$('#owned_land').DataTable({//OWNED TABLE
			fixedHeader: false,
			"processing": true,
			"serverSide": true,
			"order": [],
			"ajax": {
				"url": "<?php echo base_url('Owned/owned_land/'); ?>",
				"type": "POST"
			},
			"columnDefs": [{ 
				"targets": [0],
				"orderable": true
			}]
		});
		//GM ==================================================
		function initializePaymentTable(tableId, status) {//PAYMENT TABLE
		    $('#' + tableId).DataTable({
		        fixedHeader: false,
		        processing: true,
		        serverSide: true,
		        order: [],
		        ajax: {
		            url: "<?php echo base_url('Payment/payment_datatable/'); ?>",
		            type: "POST",
		            data: function(d) {
		                d.status = status;
		            }
		        },
		        columnDefs: [{
		            targets: [0],
		            orderable: true
		        }]
		    });
		}
		initializePaymentTable('pending_datatable', 'Pending');
		initializePaymentTable('approved_datatable', 'Approved');
		initializePaymentTable('disapproved_datatable', 'Disapproved');
		initializePaymentTable('paid_datatable', 'Paid');
		//ACCOUNTING ==================================================
		function initializeCRFTable(tableId, status) {//CRF TABLE
		    $('#' + tableId).DataTable({
		        fixedHeader: false,
		        processing: true,
		        serverSide: true,
		        order: [],
		        ajax: {
		            url: "<?php echo base_url('Payment/crf_datatable/'); ?>",
		            type: "POST",
		            data: function(d) {
		                d.status = status;
		            }
		        },
		        columnDefs: [{
		            targets: [0],
		            orderable: true
		        }]
		    });
		}
		initializeCRFTable('pending_crf_datatable', 'Approved');
		initializeCRFTable('history_crf_datatable', 'Paid');

		
		// RPTAX_DATATABLE ======================
		// var rptaxTable;

		// function initializeRptaxTable() {
    	// 	if ($.fn.DataTable.isDataTable('#Rptax_datatable')) {
        // 		rptaxTable.clear().destroy(); // destroy if already initialized
    	// 	}

    	// 	rptaxTable = $('#Rptax_datatable').DataTable({
        // 		fixedHeader: false,
        // 		processing: true,
        // 		serverSide: true,
        // 		order: [],
        // 		ajax: {
        //     		url: "<?php echo base_url('Rpt/Rptax_datatable'); ?>",
        //     		type: "POST",
        //     		data: function (d) {
        //         		d.region = $('#selectedRegion').val();
        //         		d.province = $('#selectedProvince').val();
        //         		d.town = $('#selectedCity').val();
        //     		}
        // 		},
        // 		columns: [
        //     		{ title: "IS No" },
        //     		{ title: "Lot Owner" },
        //     		{ title: "Lot Type" },
        //     		{ title: "Lot Location" },
        //     		{ title: "Tax Declaration No." },
        //     		{ title: "Lot No." },
        //     		{ title: "Action", orderable: false }
        // 		],
        // 		columnDefs: [{
        //     		targets: [0],
        //     		orderable: true
        // 		}]
    	// 	});
		// }

		// Call on town dropdown change
		$('#selectedCity').on('change', function () {
    		initializeRptaxTable(); // load or reload table on change
		});

		// Optional: reset button clears table
		$('#resetButton').on('click', function () {
    		if (rptaxTable) {
        		rptaxTable.clear().draw();
    		}
		});



		
		$('#inprogress1_datatable').DataTable( {//INPROGRESS TABLE
			fixedHeader: false,
			"processing": true,
			"serverSide": true,
			"order": [],
			"ajax": {
				"url": "<?php echo base_url('Payment/inprogress1_datatable/'); ?>",
				"type": "POST"
			},
			"columnDefs": [{ 
				"targets": [0],
				"orderable": true
			}]

		});


		//LEGAL ================================================== 
		var selectedIds = new Set(); // store selected values across pages
		var rpt_table = $('#rpt_datatable').DataTable({
		    fixedHeader: false,
		    processing: true,
		    serverSide: true,
		    order: [],
		    ajax: {
		        url: "<?php echo base_url('Rpt/Rpt_datatable/'); ?>",
		        type: "POST",
		        data: function(d) {
		            d.region   = $('#selectedRegion').val();
		            d.province = $('#selectedProvince').val();
		            d.town     = $('#selectedCity').val();
		        }
		    },
		    columnDefs: [{
		        targets: [0],
		        orderable: true
		    }],

		    drawCallback: function (settings) {
		        // Re-check previously selected rows after table reload
		        $('.row-check').each(function () {
		            if (selectedIds.has($(this).val())) {
		                $(this).prop('checked', true);
		            }
		        });
		        // Handle individual row checkbox toggle
		        $('.row-check').off('change').on('change', function () {
		            const value = $(this).val();
		            if (this.checked) {
		                selectedIds.add(value);
		            } else {
		                selectedIds.delete(value);
		                $('#checkAll').prop('checked', false);
		            }
		        });
		    }
		});
		$('#checkAll').on('change', function () {// Handle "Check All" toggle
		    const isChecked = this.checked;
		    const currentPageRows = rpt_table.rows({ page: 'current' }).nodes();

		    $('input.row-check', currentPageRows).each(function () {
		        $(this).prop('checked', isChecked);
		        const value = $(this).val();
		        if (isChecked) {
		            selectedIds.add(value);
		        } else {
		            selectedIds.delete(value);
		        }
		    });
		});
		$('#searchBtn').on('click', function () {//Handle Search
		    rpt_table.draw();
		});
		//CCD ==================================================
		function initializeAspaymentTable(tableId, status) {//ASPAYMENT TABLE
		    $('#' + tableId).DataTable({
		        fixedHeader: false,
		        processing: true,
		        serverSide: true,
		        order: [],
		        ajax: {
		            url: "<?php echo base_url('Aspayment/Aspayment_datatable/'); ?>",
		            type: "POST",
		            data: function(d) {
		                d.status = status;
		            }
		        },
		        columnDefs: [{
		            targets: [0],
		            orderable: true
		        }]
		    });
		}
		initializeAspaymentTable('pending_aspayment_datatable', 'Pending');
		initializeAspaymentTable('approved_aspayment_datatable', 'Approved');
		initializeAspaymentTable('disapproved_aspayment_datatable', 'Disapproved');
		initializeAspaymentTable('paid_aspayment_datatable', 'Paid');
		//END ==================================================
	});		
</script>

<script type="text/javascript">//viewing the profile content of lot details
	$('#lot_info').submit(function(event) {
		var id 	= $(".v-identifier").attr('id');
		var req = $.ajax({
			type: "POST",
			url: "<?php echo base_url('Land/view_document/"+id+"'); ?>",
			data: {view: $('#view_select').val()},
			dataType: 'html',
			beforeSend: function () {
				$("#loading").css("visibility", "visible").fadeIn(0);
			},
			complete: function () {
				$('#lot_info')[0].reset();
				$("#loading").css("visibility", "visible").fadeOut(2000);
			}
		});
		req.done(function (data) {
			$('.ledger').html(data);
		});
		event.preventDefault();
		return false;  //stop the actual form post !important!
	});
		
	function refresh(){//FUNTION RELOAD
		window.location.reload();
	}
</script>

<script type="text/javascript">//zoom view icon 
	function bigImg(x) {
		x.style.height 	= "72px";
		x.style.width 	= "72px";
	}
	function normalImg(x) {
		x.style.height 	= "60px";
		x.style.width 	= "60px";
	}
</script>

<script type="text/javascript">//date time picker java script
	$(".form_datetime").datetimepicker({
		format: "dd MM yyyy - HH:ii P",
		showMeridian: true,
		autoclose: true,
		todayBtn: true
	});
</script>

<script type="text/javascript">
	document.addEventListener("DOMContentLoaded", function(event){ 
		$(".commission").click(function(){//DISPLAY/HIDE OF COMISSION FEE
			var v = $(this).attr("value");
			if(v == 'Fixed'){
				$("#fix").css('display','block');
				$("#support_com").css('display','block');
				$("#per").hide();
			}else{
				$("#per").css('display','block');
				$("#support_com").css('display','block');
				$("#fix").hide();
			}
		});
		$(".notary").click(function(){// DISPLAY/HIDE OF NOTARY FEE
			var no = $(this).attr("id");
			if(no == 1){
				$("#fixed_notary").css('display','block');
				$("#support_notary").css('display','block');
				$("#percentage_notary").hide();
			}else{
				$("#percentage_notary").css('display','block');
				$("#support_notary").css('display','block');
				$("#fixed_notary").hide();
			}
		});
		$(".trig").click(function(){//DIPLAY/HIDE OF THE OTHERS OPTION ADJUSTMENT
			var id = $(this).attr("id");
			if(id == 'Fixed'){
				$("#other_fixed_notary").css('display','block');
				$("#other_support_notary").css('display','block');
				$('#other_percentage_notary').hide();
			}else{
				$("#other_percentage_notary").css('display','block');
				$("#other_support_notary").css('display','block');
				$('#other_fixed_notary').hide();
			}
		});
		//YEAR DISPLAY
		var now = new Date();
		var year = now.getFullYear();
		$("#y").text("©"+year+" Alturas Group of Companies");
		//END YEAR DISPLAY
	});
</script>
				
<script>				
	$(document).ready(function(){//PNOTIFY QUERY
		$('.ui-pnotify').remove();
	});
</script>

<script type="text/javascript">  
	setInterval(function(){
		$('#saved').fadeOut('slow');
	}, 6000);
	$('button.edit-ass-lvl').qtip({
		content: {
			text: 'Edit the Assessment Level'
		}
	});
	if(window.location.href !== '<?php echo base_url('account') ?>'){
		$('a.view_profile').qtip({
			content: {
				text: 'Edit your profile and credentials here!'
			},
		});
	}
	$('a.mam-nena_view_notif').qtip({
		position: {
			my: 'top right',
			at: 'bottom center'
		},
		content: {
			text: 'View notifications here! '
		}
	});
</script>

<script type="text/javascript">
	$('#checkBtn').click(function() {
		checked = $("input[type=checkbox]:checked").length;
		var op 	= $("#other_p").val().length;
		if(!checked && op == 0) {
			alert("You must have your purpose!");
			return false;
		}
	});
</script>

<script>
	$(function() {$( "#dpicker" ).datepicker({
		dateFormat: "yy/mm/dd", 
		changeMonth: true, 
		changeYear: true,
		yearRange: "-100:+10",
		showButtonPanel: true,
	});});
	$(document).on('keypress', 'input[type="text"]', function (event) {
		if (event.which === 8 || event.which === 9 || event.which === 13) {
			return;
		}else{
			var regex = new RegExp("^[a-zA-Z 0-9.,'-]+$");
			var key_allow = String.fromCharCode(!event.charCode ? event.which : event.charCode);
			if (!regex.test(key_allow)) {
				event.preventDefault();
				return false;
			}
		}
	});
	$(document).on('keypress', 'textarea', function (event) {
		if (event.which === 8 || event.which === 9 || event.which === 13) {
			return;
		}else{
			var regex = new RegExp("^[a-zA-Z 0-9.,'-]+$");
			var key_allow = String.fromCharCode(!event.charCode ? event.which : event.charCode);
			if (!regex.test(key_allow)) {
				event.preventDefault();
				return false;
			}
		}
	});
</script>

<script type="text/javascript">//script for money currency
	$('#la_form').number( true, 2 );
	$('#sp_form').number( true, 2 );
	$('#total_form').number( true, 2 );
	$('#ca_amount').number( true, 2 ); //cash advance
	$('#old_rpt_amount').number( true, 2 ); //real property tax (old)
	$('#bidding_price').number( true, 2 );
	$('#lotsize').number( true, 2 );
	
	$('#mv_ltd').number( true, 2 );
	$('#neigh_inq').number( true, 2 );
	$('#assessor').number( true, 2 );
	$('#banks').number( true, 2 );
	$('#final_val').number( true, 2 );

	$('#com_amount').number( true, 2 );
	$('#com_percentage').number( true, 2 );
	$('#total_com').number( true, 2 );

	$('#notarial_fee').number( true, 2 );
	$('#commission_fee').number( true, 2 );
</script>

<script type="text/javascript">
	$(document).ready(function(){
		getNotification();
		getUpdateNotif_content();
		time_active(); //call time active function
		
		$(".open").click(function(){//OPEN NOTIFICATION 
			var id = $(this).attr("id");
			$.ajax({
				url: "<?php echo base_url('Notification/read_notification/"+id+"')?>",
				type: "post",
				success:function(){
					getNotification();
				}
			});
		});
		$(".read_all").click(function(){//READ NOTIFICATION 
			$.ajax({
				url: "<?php echo base_url('Notification/read_all_notif/')?>",
				type: "post",
				success:function(response){
					getNotification();
					getUpdateNotif_content();
					$("#load_tap_nav").load(window.location.href + " #load_tap_nav");
				}
			});
		});
		$(".clear_all").click(function(){//CLEAR NOTIFICATION 
			$.ajax({
				url: "<?php echo base_url('Notification/clear_all_notif/')?>",
				type: "post",
				success:function(response){
				 	getNotification();
				 	getUpdateNotif_content();
				 	$("#load_tap_nav").load(window.location.href + " #load_tap_nav");
				}
			});
		});
	});
	function getNotification(){
		var url = '<?php echo base_url(); ?>';
		$.ajax({
			type: 'POST',
			url: url + 'Notification/get_notification_number/',
			dataType: 'json',
			success:function(response){
				$('#no_of_notif_tab').html(response.notif_tab);
				$('#no_of_notif_header').html(response.notif_header);
			}
		});
	}
	function getUpdateNotif_content(){
		$.ajax({
			url: "<?php echo base_url('Notification/fetch_notification')?>",
			type: "post",
			success:function(response){
				$('#notif_content').html(response);
			}
		});
	}
	function get_notification_bar(){
		$.ajax({
			url: "<?php echo base_url('Notification/fetch_notification_bar')?>",
			type: "post",
			success:function(response){
				$('#notif_bar').html(response);
			}
		});
	}
	function time_active(){ //update user log once page was loaded
		$.ajax({
			url: "<?php echo base_url('Welcome/set_time_active')?>",
			type: "post",
			data: {'<?php echo $this->security->get_csrf_token_name(); ?>':'<?php echo $this->security->get_csrf_hash(); ?>'},
			success:function(response){}
		});
	}		
</script>


